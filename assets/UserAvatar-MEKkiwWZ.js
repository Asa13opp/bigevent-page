import{_ as U}from"./PageContainer-DiffIx1q.js";import{u as k,r as u,c as w,d as a,b as o,e as t,f as y,A as p,g as _,a$ as A,i,cd as x,ce as B,E as C}from"./index-C8f6357S.js";import{a as R,E as N}from"./el-col-CL5b0juY.js";import{_ as S,E as b}from"./_plugin-vue_export-helper-Chmw9_JK.js";import{E as V}from"./el-progress-C0tJTN-D.js";import"./el-message-BXCq4-ra.js";const $="/assets/avatar-CQlNaQTu.jpg",z=["src"],F={key:1,src:$,width:"278"},Q={__name:"UserAvatar",setup(T){const l=k(),r=u(),s=u(l.user.user_pic),d=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{s.value=e.result}},f=async()=>{await B(s.value),await l.getUser(),C({type:"success",message:"更换头像成功"})};return(n,e)=>{const m=V,c=b,v=N,g=R,E=U;return o(),w(E,{title:"更换头像"},{default:a(()=>[t(g,null,{default:a(()=>[t(v,{span:12},{default:a(()=>[t(m,{ref_key:"uploadRef",ref:r,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":d},{default:a(()=>[s.value?(o(),p("img",{key:0,src:s.value,class:"avatar"},null,8,z)):(o(),p("img",F))]),_:1},512),e[3]||(e[3]=y("br",null,null,-1)),t(c,{onClick:e[0]||(e[0]=j=>r.value.$el.querySelector("input").click()),type:"primary",icon:_(A),size:"large"},{default:a(()=>[...e[1]||(e[1]=[i("选择图片",-1)])]),_:1},8,["icon"]),t(c,{onClick:f,type:"success",icon:_(x),size:"large"},{default:a(()=>[...e[2]||(e[2]=[i(" 上传头像 ",-1)])]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},H=S(Q,[["__scopeId","data-v-18f9a601"]]);export{H as default};
