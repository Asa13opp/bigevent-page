import{_ as w}from"./PageContainer-B5cM4_Q9.js";import{u as E,r as u,c as k,d as a,b as s,e as t,f as y,A as p,g as _,a$ as A,i,cd as R,ce as x,E as B}from"./index-kxrLD_od.js";import{a as C,E as N}from"./el-col-fiHh_5Z0.js";import{_ as S,E as b}from"./_plugin-vue_export-helper-PvZFHzq6.js";import{E as V}from"./el-progress-DMZdKOe-.js";import"./el-message-DpDubypv.js";const $=""+new URL("avatar-CQlNaQTu.jpg",import.meta.url).href,z=["src"],F={key:1,src:$,width:"278"},L={__name:"UserAvatar",setup(Q){const r=E(),l=u(),o=u(r.user.user_pic),d=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{o.value=e.result}},f=async()=>{await x(o.value),await r.getUser(),B({type:"success",message:"更换头像成功"})};return(n,e)=>{const m=V,c=b,v=N,g=C,U=w;return s(),k(U,{title:"更换头像"},{default:a(()=>[t(g,null,{default:a(()=>[t(v,{span:12},{default:a(()=>[t(m,{ref_key:"uploadRef",ref:l,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":d},{default:a(()=>[o.value?(s(),p("img",{key:0,src:o.value,class:"avatar"},null,8,z)):(s(),p("img",F))]),_:1},512),e[3]||(e[3]=y("br",null,null,-1)),t(c,{onClick:e[0]||(e[0]=T=>l.value.$el.querySelector("input").click()),type:"primary",icon:_(A),size:"large"},{default:a(()=>[...e[1]||(e[1]=[i("选择图片",-1)])]),_:1},8,["icon"]),t(c,{onClick:f,type:"success",icon:_(R),size:"large"},{default:a(()=>[...e[2]||(e[2]=[i(" 上传头像 ",-1)])]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},G=S(L,[["__scopeId","data-v-18f9a601"]]);export{G as default};
